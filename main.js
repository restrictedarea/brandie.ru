!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("redux"),require("redux-thunk"),require("react-redux"),require("react-router-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","redux","redux-thunk","react-redux","react-router-dom","react-dom"],t):t(e.application=e.application||{},e.React,e.Redux,e.ReduxThunk,e.ReactRedux,e.ReactRouterDOM,e.ReactDOM)}(this,function(e,t,o,n,r,i,c){"use strict";function a(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function u(e){return d.createElement("div",{className:h.root()},y.map(function(e,t){return d.createElement(i.Route,{key:t,children:function(t){var o=t.location,n=o.pathname===e.to;return d.createElement(i.Link,{className:h.item(n&&"active"),to:e.to},e.title)}})}))}function l(e,t){switch(void 0===e&&(e=0),t.type){case U:return t.number;default:return e}}function s(e){return void 0===e&&(e={}),o.createStore(X,e,o.applyMiddleware(n))}function p(e){return d.createElement(r.Provider,{store:e},d.createElement(i.Route,{component:I}))}var d="default"in t?t.default:t;n="default"in n?n.default:n;var m=function(e){return function(){for(var t=[],o=0;o<arguments.length;o++){var n=e.mods&&e.mods[arguments[o]];n&&t.push(n)}return(e.base?[e.base]:[]).concat(t).join(" ")}},f={root:m({base:"a"}),header:m({base:"b",mods:{home:"c"}}),body:m({base:"d"}),footer:m({base:"e"}),container:m({base:"f"}),logo:m({base:"g"}),menu:m({base:"h"})},h={root:m({base:"i"}),item:m({base:"j",mods:{active:"k"}})},y=[{title:"Сделать заказ",to:"/order"},{title:"Портфолио",to:"/portfolio"},{title:"Связаться с нами",to:"/contact"}],v={root:m({base:"l"})},E=function(e){return{type:"application/setTitle",title:e}},b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentWillMount=function(){this.props.setTitle("Home")},t.prototype.render=function(){return d.createElement("div",{className:v.root()},"Hello!!!")},t}(t.Component),x=function(e){return{}},R={setTitle:E},N=r.connect(x,R)(b),w={root:m({base:"m"})},g=function(){return function(e,t){if(!t().portfolio.loaded)return e({type:"portfolio/load"}),fetch("http://api.brandie.ru/portfolio.json").then(function(t){return t.json().then(function(t){var o=t.logos;e({type:"portfolio/loadSuccess",logos:o})})}).catch(function(t){e({type:"portfolio/loadFail"})})}},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentWillMount=function(){this.props.setTitle("Portfolio")},t.prototype.componentDidMount=function(){this.props.load()},t.prototype.render=function(){return d.createElement("div",{className:w.root()},this.props.loaded?"LOADED":"NOT LOADED")},t}(t.Component),C=function(e){return{loaded:e.portfolio.loaded,logos:e.portfolio.logos}},M={setTitle:E,load:g},O=r.connect(C,M)(T),S={root:m({base:"n"})},j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentWillMount=function(){this.props.setTitle("Contact")},t.prototype.render=function(){return d.createElement("div",{className:S.root()},"Contact")},t}(t.Component),D=function(e){return{}},k={setTitle:E},q=r.connect(D,k)(j),F={root:m({base:"o"})},L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentWillMount=function(){this.props.staticContext&&(this.props.staticContext.status=404),this.props.setTitle("NotFound")},t.prototype.render=function(){return d.createElement("div",{className:F.root()},"NotFound")},t}(t.Component),P=function(e){return{}},W={setTitle:E},A=r.connect(P,W)(L),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return"undefined"!=typeof document&&(document.title=this.props.title),d.createElement("div",{className:f.root()},d.createElement(i.Route,{exact:!0,path:"/(index.html)?",children:function(e){var t=e.match,o=Boolean(t);return d.createElement("div",{className:f.header(o&&"home")},d.createElement("div",{className:f.container()},d.createElement("div",{className:f.logo()}),d.createElement("div",{className:f.menu()},d.createElement(u,null))))}}),d.createElement("div",{className:f.body()},d.createElement("div",{className:f.container()},d.createElement(i.Switch,null,d.createElement(i.Route,{exact:!0,path:"/(index.html)?",component:N}),d.createElement(i.Route,{exact:!0,path:"/portfolio/(index.html)?",component:O}),d.createElement(i.Route,{exact:!0,path:"/contact/(index.html)?",component:q}),d.createElement(i.Route,{component:A})))),d.createElement("div",{className:f.footer()},d.createElement("div",{className:f.container()},"Footer")))},t}(t.Component),H=function(e){return{title:e.application.title}},_={},I=r.connect(H,_)(B),z=function(e,t){switch(void 0===e&&(e=""),t.type){case"application/setTitle":return t.title;default:return e}},G=o.combineReducers({title:z}),J=function(e,t){switch(void 0===e&&(e=!1),t.type){case"portfolio/loadSuccess":return!0;default:return e}},K=function(e,t){switch(void 0===e&&(e=[]),t.type){case"portfolio/loadSuccess":return t.logos;default:return e}},Q=o.combineReducers({loaded:J,logos:K}),U="order/setNumber",V=o.combineReducers({number:l}),X=o.combineReducers({application:G,portfolio:Q,order:V});"undefined"!=typeof window&&window.addEventListener("load",function(e){var t=window.initialState;delete window.initialState;var o=s(t),n=d.createElement(i.BrowserRouter,null,p(o));c.render(n,document.getElementById("application"))}),e.getStore=s,e.getApplication=p,Object.defineProperty(e,"__esModule",{value:!0})});