!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("redux"),require("redux-thunk"),require("react-redux"),require("react-router-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","redux","redux-thunk","react-redux","react-router-dom","react-dom"],t):t(e.application=e.application||{},e.React,e.Redux,e.ReduxThunk,e.ReactRedux,e.ReactRouterDOM,e.ReactDOM)}(this,function(e,t,n,r,o,a,c){"use strict";function i(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e){return{type:q,location:e}}function l(e){return{type:F,location:e}}function s(e,t){return{type:S,location:e,data:t}}function p(e){return{type:D,location:e}}function d(e,t){return{type:B,location:e,error:t}}function m(e){return e.replace(/(\/)?([^\/]+\.html)?$/,function(e,t,n){return(t||"/")+(n||"index.html")})}function f(e){return e=m(e),function(t,n){if("undefined"!=typeof window){var r=n();t(u(e)),m(r.pages.currentLocation)!==e&&(r.pages.pages[e]&&"notLoaded"!==r.pages.pages[e].status||(t(l(e)),fetch(window.location.protocol+"//"+window.location.host+e.replace(/\.html$/,".json")).then(function(n){404===n.status?t(p(e)):n.json().then(function(n){t(s(e,n))})}).catch(function(n){t(d(e,n))})))}}}function h(e){return{currentLocation:e.pages.currentLocation,pages:e.pages.pages}}function E(e){return L.createElement("div",{className:I.root()},U.map(function(e,t){return L.createElement(a.NavLink,{className:I.item(),activeClassName:I.item("active"),to:e.to,key:t},e.title)}))}function g(e){return{}}function y(e){return{}}function v(e){return{}}function b(e){return{}}function w(e){return{}}function x(e){return{title:e.title}}function N(e,t){switch(void 0===e&&(e=""),t.type){case q:return t.location;default:return e}}function R(e,t,n){var r={status:"notLoaded",data:null,lastError:null};return Object.assign(e[t]?Object.assign({},e[t]):r,n)}function j(e,t){switch(void 0===e&&(e={}),t.type){case F:return Object.assign({},e,(n={},n[t.location]=R(e,t.location,{status:"loading"}),n));case S:return Object.assign({},e,(r={},r[t.location]=R(e,t.location,{status:"loaded",data:t.data}),r));case D:return Object.assign({},e,(o={},o[t.location]=R(e,t.location,{status:"notFound"}),o));case B:return Object.assign({},e,(a={},a[t.location]=R(e,t.location,{status:"notLoaded",lastError:t.error}),a));default:return e}var n,r,o,a}function O(e,t){switch(void 0===e&&(e=""),t.type){case ge:return t.title;default:return e}}function C(e){return n.createStore(ve,e,n.applyMiddleware(r))}function P(e){return L.createElement(o.Provider,{store:e},L.createElement(a.Route,{component:Ee}))}var L="default"in t?t.default:t;r="default"in r?r.default:r;var M=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++){var r=e.mods&&e.mods[arguments[n]];r&&t.push(r)}return(e.base?[e.base]:[]).concat(t).join(" ")}};const k=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var q="pages/show",F="pages/load:start",S="pages/load:success",D="pages/load:notFound",B="pages/load:error",T={load:f},W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.props.load(this.props.location.pathname)},t.prototype.componentDidUpdate=function(e){this.props.load(this.props.location.pathname)},t.prototype.render=function(){var e=this.props,t=e.Page,n=e.ErrorPage,r=e.NotFoundPage,o=this.props.pages[this.props.currentLocation];if(!o)return null;switch(o.status){case"notLoaded":return L.createElement(n,null);case"loading":case"loaded":return L.createElement(t,k({},o.data));case"notFound":return L.createElement(r,null)}},t}(t.Component),$=o.connect(h,T)(W),_={root:M({base:"a"})},A={root:M({base:"b",mods:{large:"c"}}),container:M({base:"d"}),logo:M({base:"e"}),menu:M({base:"f"})},I={root:M({base:"g"}),item:M({base:"h",mods:{active:"i"}})},U=[{title:"Сделать заказ",to:"/order"},{title:"Портфолио",to:"/portfolio"},{title:"Связаться с нами",to:"/contact"}],z=function(e){return L.createElement("div",{className:A.root(e.type)},L.createElement("div",{className:A.container()},L.createElement("div",{className:A.logo()}),L.createElement("div",{className:A.menu()},L.createElement(E,null))))},G={root:M({base:"j"}),container:M({base:"k"})},H=function(e){return L.createElement("div",{className:G.root()},L.createElement("div",{className:G.container()},e.children))},J={root:M({base:"l"}),container:M({base:"m"})},K=function(e){return L.createElement("div",{className:J.root()},L.createElement("div",{className:J.container()},"Footer"))},Q={},V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:_.root()},L.createElement(z,{type:"large"}),L.createElement(H,null,L.createElement("h1",null,this.props.title)),L.createElement(K,null))},t}(t.Component),X=o.connect(g,Q)(V),Y={root:M({base:"n"})},Z={},ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:Y.root()},L.createElement(z,null),L.createElement(H,null,L.createElement("h1",null,this.props.title)),L.createElement(K,null))},t}(t.Component),te=o.connect(y,Z)(ee),ne={root:M({base:"o"})},re={},oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:ne.root()},L.createElement(z,null),L.createElement(H,null,L.createElement("h1",null,this.props.title)),L.createElement(K,null))},t}(t.Component),ae=o.connect(v,re)(oe),ce={root:M({base:"p"})},ie={},ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentWillMount=function(){this.props.staticContext&&(this.props.staticContext.status=404)},t.prototype.render=function(){return L.createElement("div",{className:ce.root()},L.createElement(z,null),L.createElement(H,null,L.createElement("h1",null,"Страница не найдена")),L.createElement(K,null))},t}(t.Component),le=o.connect(b,ie)(ue),se={},pe={},de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentWillMount=function(){this.props.staticContext&&(this.props.staticContext.status=500)},t.prototype.render=function(){return L.createElement("div",{className:se.root()},L.createElement(z,null),L.createElement(H,null,L.createElement("h1",null,"Произошла ошибка")),L.createElement(K,null))},t}(t.Component),me=o.connect(w,pe)(de),fe={},he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){"undefined"!=typeof document&&(document.title=this.props.title);var e={ErrorPage:me,NotFoundPage:le};return L.createElement(a.Switch,null,L.createElement(a.Route,{exact:!0,path:"/(index.html)?",render:function(t){return L.createElement($,k({Page:X},e,t))}}),L.createElement(a.Route,{path:"/portfolio/(index.html)?",render:function(t){return L.createElement($,k({Page:te},e,t))}}),L.createElement(a.Route,{path:"/contact/(index.html)?",render:function(t){return L.createElement($,k({Page:ae},e,t))}}),L.createElement(a.Route,{render:function(e){return L.createElement(le,k({},e))}}))},t}(t.Component),Ee=o.connect(x,fe)(he),ge="setTitle",ye=n.combineReducers({currentLocation:N,pages:j}),ve=n.combineReducers({title:O,pages:ye});"undefined"!=typeof window&&window.addEventListener("load",function(e){var t=window.initialState;delete window.initialState;var n=C(t),r=L.createElement(a.BrowserRouter,null,P(n));c.render(r,document.getElementById("application"))}),e.getStore=C,e.getApplication=P,Object.defineProperty(e,"__esModule",{value:!0})});