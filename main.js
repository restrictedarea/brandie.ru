!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("redux"),require("redux-thunk"),require("react-redux"),require("react-router-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","redux","redux-thunk","react-redux","react-router-dom","react-dom"],t):t(e.application=e.application||{},e.React,e.Redux,e.ReduxThunk,e.ReactRedux,e.ReactRouterDOM,e.ReactDOM)}(this,function(e,t,n,r,o,a,c){"use strict";function i(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e){return{type:k,location:e}}function l(e){return{type:F,location:e}}function s(e,t){return{type:S,location:e,data:t}}function p(e){return{type:D,location:e}}function d(e,t){return{type:_,location:e,error:t}}function m(e){return e.replace(/(\/)?([^\/]+\.html)?$/,function(e,t,n){return(t||"/")+(n||"index.html")})}function f(e){return e=m(e),function(t,n){if("undefined"!=typeof window){var r=n();t(u(e)),m(r.pages.currentLocation)!==e&&(r.pages.pages[e]&&"notLoaded"!==r.pages.pages[e].status||(t(l(e)),fetch(window.location.protocol+"//"+window.location.host+e.replace(/\.html$/,".json")).then(function(n){404===n.status?t(p(e)):n.json().then(function(n){t(s(e,n))})}).catch(function(n){t(d(e,n))})))}}}function h(e){return{currentLocation:e.pages.currentLocation,pages:e.pages.pages}}function E(e){return{}}function g(e){return{}}function y(e){return{}}function v(e){return{}}function b(e){return{}}function w(e){return{}}function x(e){return{title:e.title}}function N(e,t){switch(void 0===e&&(e=""),t.type){case k:return t.location;default:return e}}function R(e,t,n){var r={status:"notLoaded",data:null,lastError:null};return Object.assign(e[t]?Object.assign({},e[t]):r,n)}function j(e,t){switch(void 0===e&&(e={}),t.type){case F:return Object.assign({},e,(n={},n[t.location]=R(e,t.location,{status:"loading"}),n));case S:return Object.assign({},e,(r={},r[t.location]=R(e,t.location,{status:"loaded",data:t.data}),r));case D:return Object.assign({},e,(o={},o[t.location]=R(e,t.location,{status:"notFound"}),o));case _:return Object.assign({},e,(a={},a[t.location]=R(e,t.location,{status:"notLoaded",lastError:t.error}),a));default:return e}var n,r,o,a}function O(e,t){switch(void 0===e&&(e=""),t.type){case xe:return t.title;default:return e}}function C(e){return n.createStore(Re,e,n.applyMiddleware(r))}function P(e){return L.createElement(o.Provider,{store:e},L.createElement(a.Route,{component:we}))}var L="default"in t?t.default:t;r="default"in r?r.default:r;var M=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++){var r=e.mods&&e.mods[arguments[n]];r&&t.push(r)}return(e.base?[e.base]:[]).concat(t).join(" ")}};const q=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var k="pages/show",F="pages/load:start",S="pages/load:success",D="pages/load:notFound",_="pages/load:error",T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.props.load(this.props.location.pathname)},t.prototype.componentDidUpdate=function(e){this.props.load(this.props.location.pathname)},t.prototype.render=function(){var e=this.props,t=e.Page,n=e.ErrorPage,r=e.NotFoundPage,o=this.props.pages[this.props.currentLocation];if(!o)return null;switch(o.status){case"notLoaded":return L.createElement(n,null);case"loading":case"loaded":return L.createElement(t,q({},o.data));case"notFound":return L.createElement(r,null)}},t}(t.Component),B={load:f},I=o.connect(h,B)(T),W={root:M({base:"a"})},$={root:M({base:"b",mods:{large:"c"}}),container:M({base:"d"}),logo:M({base:"e"}),menu:M({base:"f"})},A={root:M({base:"g"}),item:M({base:"h",mods:{active:"i"}})},H=[{title:"Сделать заказ",to:"/order"},{title:"Портфолио",to:"/portfolio"},{title:"Связаться с нами",to:"/contact"}],U=function(e){return L.createElement("div",{className:A.root()},H.map(function(e,t){return L.createElement(a.NavLink,{className:A.item(),activeClassName:A.item("active"),to:e.to,key:t},e.title)}))},z=function(e){return L.createElement("div",{className:$.root(e.type)},L.createElement("div",{className:$.container()},L.createElement("div",{className:$.logo()}),L.createElement("div",{className:$.menu()},L.createElement(U,null))))},G={root:M({base:"j"}),container:M({base:"k"})},J=function(e){return L.createElement("div",{className:G.root()},L.createElement("div",{className:G.container()},e.children))},K={root:M({base:"l"}),container:M({base:"m"}),caption:M({base:"n"})},Q=function(e){return L.createElement("div",{className:K.root()},L.createElement("div",{className:K.container()},L.createElement("div",{className:K.caption()},"Footer")))},V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:W.root()},L.createElement(z,{type:"large"}),L.createElement(J,null,L.createElement("h1",null,this.props.title)),L.createElement(Q,null))},t}(t.Component),X={},Y=o.connect(E,X)(V),Z={root:M({base:"o"})},ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:Z.root()},L.createElement(z,null),L.createElement(J,null,L.createElement("h1",null,this.props.title)),L.createElement(Q,null))},t}(t.Component),te={},ne=o.connect(g,te)(ee),re={root:M({base:"p"})},oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:re.root()},L.createElement(z,null),L.createElement(J,null,L.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.content}})),L.createElement(Q,null))},t}(t.Component),ae={},ce=o.connect(y,ae)(oe),ie={root:M({base:"q"})},ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return L.createElement("div",{className:ie.root()},L.createElement(z,null),L.createElement(J,null,this.props.title),L.createElement(Q,null))},t}(t.Component),le={},se=o.connect(v,le)(ue),pe={root:M({base:"r"})},de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentWillMount=function(){this.props.staticContext&&(this.props.staticContext.status=404)},t.prototype.render=function(){return L.createElement("div",{className:pe.root()},L.createElement(z,null),L.createElement(J,null,L.createElement("h1",null,"Страница не найдена")),L.createElement(Q,null))},t}(t.Component),me={},fe=o.connect(b,me)(de),he={},Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentWillMount=function(){this.props.staticContext&&(this.props.staticContext.status=500)},t.prototype.render=function(){return L.createElement("div",{className:he.root()},L.createElement(z,null),L.createElement(J,null,L.createElement("h1",null,"Произошла ошибка")),L.createElement(Q,null))},t}(t.Component),ge={},ye=o.connect(w,ge)(Ee),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){"undefined"!=typeof document&&(document.title=this.props.title);var e={ErrorPage:ye,NotFoundPage:fe};return L.createElement(a.Switch,null,L.createElement(a.Route,{exact:!0,path:"/(index.html)?",render:function(t){return L.createElement(I,q({Page:Y},e,t))}}),L.createElement(a.Route,{path:"/portfolio/(index.html)?",render:function(t){return L.createElement(I,q({Page:ne},e,t))}}),L.createElement(a.Route,{path:"/contact/(index.html)?",render:function(t){return L.createElement(I,q({Page:ce},e,t))}}),L.createElement(a.Route,{path:"/blog/",render:function(t){return L.createElement(I,q({Page:se},e,t))}}),L.createElement(a.Route,{render:function(e){return L.createElement(fe,q({},e))}}))},t}(t.Component),be={},we=o.connect(x,be)(ve),xe="setTitle",Ne=n.combineReducers({currentLocation:N,pages:j}),Re=n.combineReducers({title:O,pages:Ne});"undefined"!=typeof window&&window.addEventListener("load",function(e){var t=window.initialState;delete window.initialState;var n=C(t),r=L.createElement(a.BrowserRouter,null,P(n));c.render(r,document.getElementById("application"))}),e.getStore=C,e.getApplication=P,Object.defineProperty(e,"__esModule",{value:!0})});